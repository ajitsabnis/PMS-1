<!-- <div class="Add-test">
	<div class="container">
  		<h2 style="color:blue">Add test</h2>
  		<hr>
 		<div class="form-group">
			<button type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="#myModal" data-backdrop="true" data-keyboard="true">Test Details</button>

			<button type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="#myModal1" data-backdrop="true" data-keyboard="true">Test Details</button>

			<div class="form-group" style="margin-top:15px;"> 
				<div ng-controller = "TestMasterDetailsCtrl">
					<div ui-grid="myData" class="myGrid"></div>
				</div>
			</div>
			 
			<script type="text/ng-template" id="myModalContent.html">
		        <div class="modal-header">
		            <h3 class="modal-title">Add New Test</h3>
		        </div>
		        <div class="modal-body">
	      			<div class="form-group">
	  					<h4>test id</h4>
				    	<input type="text" class="form-control" ng-model="test.test_id">
			        </div>
			        
	  				<div class="form-group">
	  					<h4><span class="label label-default">Test Name:</span></h4>
				    	<input type="text" class="form-control" ng-model="test.test_name">
			        </div>
				    
                    <div class="form-group">     
	            		<h4><span class="label label-default">Group:</span></h4>
					 	<input type="text" class="form-control" ng-model="test.group">
			      	</div>

		            <div class="form-group">	          
			            <h4><span class="label label-default">Heading:</span></h4>
			            <input type="text" class="form-control" ng-model="test.test_heading">
		            </div>

		            <div class="form-group">
						<h4><span class="label label-default">Test Code:</span></h4>
				 		<input type="text" class="form-control" ng-model="test.test_short_name">
		          	</div>

	                <div class="form-group">
						<h4><span class="label label-default">Test Charges:</span></h4>
				 		<input type="text" class="form-control" ng-model="test.amount">
				 	</div>
			 		
			 		<div class="form-group">
			 		    <h4><span class="label label-default">flag</span></h4>
	            		<input type="text" class="form-control" ng-model="test.flag_name">
					</div>
					    
			    	<div class="form-group">     
						<h4><span class="label label-default">Method:</span></h4>
						<input type="text" class="form-control" ng-model="test.generic_method_name">
					</div>
							
					<div class="form-group">
						<h4><span class="label label-default">Sample:</span></h4>
						<input type="text" class="form-control" ng-model="test.generic_sample_name" >
					</div>

					<div class="form-group">
						<h4><span class="label label-default">Instrument:</span></h4>
						<input type="text" class="form-control" ng-model="test.generic_instrument_name">
					</div>
						    
				    <div class="form-group">
             			<h4><span class="label label-default">Remark:</span></h4>
                        <textarea class="form-control custom-control" rows="8" ng-model="test.test_remark" style="resize:none" ></textarea>
					</div>
					<button type="button" class="btn btn-success" ng-click="update()">Save</button>
                	<button type="button" class="btn btn-danger" ng-click="oldpatient">Clear</button>
		    	</div>
			</script>
		</div>
		
  		<div class="modal fade modal-white" id="myModal" role="dialog" style="z-index: 999999">
    		<div class="modal-dialog model-lg" style='margin:10px;'>
    		
    			<div class="modal-header" style="padding:10px;">
		        	<button type="button" class="close" data-dismiss="modal">&times;</button>
		          	<h1 style="color: blue" class="modal-title">Add New Test</h1>
	        	</div>
      			<div class="col-md-12">
  					<div class="form-group clearfix" style="margin-top:15px;">
  						<label class="control-label col-sm-3">Test Name:</label>
			    		<div class="col-sm-9">
			    			<input placeholder="Test name" type="text" class="form-control" ng-model="tstname" id="121">
			    		</div>
		        	</div>
		        	<div class="form-group clearfix">     
            			<label class="control-label col-sm-3">Group:</label>
				 		<div class="col-sm-9">
					 		<select style="width:60%; display:inline-block;" class="selectpicker form-control" ng-model="selectedgrp" ng-options="groups.name for groups in group">
					 		</select>
					 		<button type="button" class="btn btn-success btn-xs">ADD Group</button>
				 		</div>
		      		</div>

		        	<div class="form-group clearfix">	          
			        	<label class="control-label col-sm-3">Heading:</label>
			        	<div class="col-sm-9">
			        		<input placeholder="Heading" type="text" class="form-control" ng-model="hding" id="123">
			        	</div>
		        	</div>

	            	<div class="form-group clearfix">
						<label class="control-label col-sm-3">Test Code:</label>
			 			<div class="col-sm-9">
			 				<input placeholder="Test code" type="text" name="input" class="form-control" ng-model="tc" min="0" max="99"/>
			 			</div>
	          		</div>

                	<div class="form-group clearfix">
						<label class="control-label col-sm-3">Test Charges:</label>
			 			<div class="col-sm-9">
			 				<input placeholder="00" type="text" name="input" class="form-control" ng-model="tch" />
			 			</div>
			 		</div>

				 	<div class="form-group clearfix">     
		            	<label class="control-label col-sm-3">Flag:</label>
						<div class="col-sm-9">
						 	<select style="width: 60%; display:inline-block;" class="selectpicker form-control" ng-model="selectedflag" ng-options="flags.name for flags in flag">
						 	</select>
						 	<button type="button" class="btn btn-success btn-xs">ADD Falg</button>
						</div>
				    </div>

			    	<div class="form-group clearfix">     
						<label class="control-label col-sm-3">Method:</label>
						<div class="col-sm-9">
							<select style="width:60%; display:inline-block" class="selectpicker form-control" ng-model="selectedmthd" ng-options="mthd.name for mthd in methode">
							</select>
							<button type="button" class="btn btn-success btn-xs"
								data-toggle="modal" data-target="#myModal1" data-backdrop="true" data-keyboard="true">ADD Flag</button>
						</div>
					</div>

					<div class="form-group clearfix">
						<label class="control-label col-sm-3">Sample:</label>
						<div class="col-sm-9">
							<select style="width:60%; display:inline-block;" class="selectpicker form-control" ng-model="selectedsmpl" ng-options="samples.name for samples in sample">
							</select>
				        	<button type="button" class="btn btn-success btn-xs">ADD Sample</button>
				        </div>
					</div>

					<div class="form-group clearfix">
						<label class="control-label col-sm-3">Instrument:</label>
						<div class="col-sm-9">
							<select style="width:60%; display:inline-block;" class="selectpicker form-control" ng-model="selectedinstmt" ng-options="names.name for names in instrument">
								
					        </select>
					        <button type="button" class="btn btn-success btn-xs">ADD instruments</button>
					    </div>
					</div>

					<div class="form-group clearfix">
             			<label class="control-label col-sm-3">Remark:</label>
                        <div class="col-sm-9">
                        	<textarea class="form-control custom-control" rows="8" ng-model="remark" style="resize:none"></textarea>
                        </div>
					</div>

				</div>

			    <div class="modal-footer" style="text-align:center;">
			    	<button type="button" class="btn btn-success" ng-click="add()">Save</button>
                	<button type="button" class="btn btn-danger" ng-click="oldpatient">Clear</button>
          			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        		</div>
    		</div>
  		</div>

  		<div class="modal fade modal-white" id="myModal1" role="dialog" style="z-index:999999">
    		<div class="modal-dialog model-lg" style='margin:10px;'>
    		 	<div class="modal-header" style="padding:10px;">
		        	<button type="button" class="close" data-dismiss="modal">&times;</button>
		          	<h1 style="color: blue" class="modal-title">Test Detail</h1>
	        	</div>
    			<div class="col-md-12">    				
    			 	<div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Select Test:</label>
						<div class="col-sm-9">
						 	<select class="selectpicker form-control">
								<option>example</option>
								<option>example</option> 
						 	</select>
						</div>
				  	</div>
				 
					<div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Test details:</label>
			          	<div class="col-sm-9">
			          		<input type="text"class="form-control" ng-model="td" id="124">
			          		<span style="color:red" ng-show="form.first.$dirty && form.first.$invalid"></span>
            				<span ng-show="form.first.$error.required">Mandatory Field</span>
            			</div>
		            </div>

		            <div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Unit:</label>
			          	<div class="col-sm-9">
		          			<input type="text"class="form-control" ng-model="tstunit" id="124">
		          			<span style="color:red" ng-show="form.first.$dirty && form.first.$invalid"></span>
        					<span ng-show="form.first.$error.required">Mandatory Field</span>
            			</div>
		            </div>

		            <div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Min Refrance:</label>
			          	<div class="col-sm-9">
		          			<input type="text" class="form-control" ng-model="minref" id="124">
		          			<span style="color:red" ng-show="form.first.$dirty && form.first.$invalid"></span>
        					<span ng-show="form.first.$error.required">Mandatory Field</span>
            			</div>
		            </div>

		            <div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Min Age:</label>
			          	<div class="col-sm-9">
		          			<input type="text" class="form-control" ng-model="mnage" id="124"+>
		          			<span style="color:red" ng-show="form.first.$dirty && form.first.$invalid"></span>
        					<span ng-show="form.first.$error.required">Mandatory Field</span>
            			</div>
		            </div>

		            <div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Gender:</label>
						<div class="col-sm-9">
							<select class="selectpicker form-control" ng-model="gndr">
								<option>example</option>
								<option>example</option> 
					 		</select>
				  		</div>
				  	</div>

					<div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Exam Type</label>
						<div class="col-sm-9">
					 		<select class="selectpicker form-control" ng-model="exmtyp">
								<option>example</option>
								<option>example</option> 
					 		</select>
						</div>
				  	</div>

					<div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Order:</label>
			          	<div class="col-sm-9">
		          			<input type="text" class="form-control" ng-model="ordr" id="124">
		          			<span style="color:red" ng-show="form.first.$dirty && form.first.$invalid"></span>
        					<span ng-show="form.first.$error.required">Mandatory Field</span>
            			</div>
		            </div>

	             	<div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Max Refrance:</label>
			          	<div class="col-sm-9">
		          			<input type="text" class="form-control" ng-model="mxref" id="124">
		          			<span style="color:red" ng-show="form.first.$dirty && form.first.$invalid"></span>
        					<span ng-show="form.first.$error.required">Mandatory Field</span>
            			</div>
		            </div>

		            <div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Max Age:</label>
			          	<div class="col-sm-9">
		          			<input type="text" class="form-control" ng-model="mxage" id="124">
		          			<span style="color:red" ng-show="form.first.$dirty && form.first.$invalid"></span>
        					<span ng-show="form.first.$error.required">Mandatory Field</span>
            			</div>
		            </div>

		            <div class="form-group clearfix">
             			<label class="control-label col-sm-3" for="inputdefault">Min Age:</label>
			          	<div class="col-sm-9">
			          		<input type="text" class="form-control" id="124">
			          	</div>
			        </div>
		             		
		            <div class="modal-footer" style="text-align:center;">
             			<button type="button" class="btn btn-success" ng-click="add(val)">Save</button>
                        <button type="button" class="btn btn-danger" ng-click="oldpatient">Clear</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>
				<div class="row">                                 
          			<table class="table table-bordered">
				  		<thead>
					  		<tr>
						 		<th>EXAMINATION TYPE</th>
						 		<th>TEST DETAILS</th>
						  		<th>UNIT</th>
						  		<th>ORDER</th>
					     		<th>MIN REFERANCE</th>
								<th>MAX REFERANCE</th>
						 		<th>MIN AGE</th>
						  		<th>MAX AGE</th>
						 		<th>GENDER</th>
						 		<th>REF RANGE</th>
				         		<th>ACTION</th>
					 		</tr>
		          		</thead>
						<tbody>
							<tr>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						  		<td></td>
						 	</tr>
						</tbody>
		      		</table>
				</div>
			</div>
		</div>
	</div>
</div> -->
<div class="contact-category">
  	<div class="row">
    	<div class="col-md-3" style="border-right: 1px solid;"> 
        	<h4>Test Master</h4>
        	<form class="form-inline" role="form">
			  	<div class="form-group">
			    	<label for="search">Search:</label>
			    	<input type="text" ng-model="searchText" class="form-control" id="search" placeholder="Search Test.." ng-keyup="filterTest(searchText)">
			  	</div>
			</form>
        	        	
        	<div class="form-group show-test">
        		<p class="test-name" ng-repeat="test in testData" ng-click="getTestData(test.test_id)">{{test.test_name}}</p>
    	    </div>
	    </div>
	    <section class="add-test">
		    <div class="col-md-9 add-test-fields">
		    	<form class="form-inline" role="form">
				  	<div class="form-group">
				    	<label for="testName">Test Name:</label>
				    	<input type="text" ng-model="test.testName" class="form-control" id="testName" placeholder="Test Name..">
				  	</div>
				  	<div class="form-group">
				    	<label for="heading">Heading:</label>
					    <input type="text" ng-model="test.heading" class="form-control" id="heading" placeholder="Heading..">
				  	</div>
				  	<div class="form-group">
				    	<label for="code">Code:</label>
					    <input type="text" ng-model="test.code" class="form-control" id="code" placeholder="Test Code..">
				  	</div>
				  	<div class="form-group">
				    	<label for="charges">Test Charges:</label>
				    	<input type="text" ng-model="test.testCharges" class="form-control" id="charges" placeholder="Test Charges..">
				  	</div>
				  	<div class="form-group1">
				  		<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 selectize-padding">
				    		<label for="group">Test Group:</label>
				    	</div>
				    	<div class="col-lg-3 col-md-3 col-sm-3 col-xs-1 selectize-padding">
					    	<ui-select ng-model="test.group" theme="selectize" ng-disabled="disabled" class="ui-selection">
							    <ui-select-match placeholder="Select Group...">{{$select.selected.gname}}</ui-select-match>
							    <ui-select-choices repeat="group in groups | filter: $select.search">
							      	<span ng-bind-html="group.gname | highlight: $select.search"></span>
							    	<!-- <small ng-bind-html="country.name | highlight: $select.search"></small> -->
								</ui-select-choices>
							</ui-select>
						</div>
				  	</div>
				  	<div class="form-group1">
				  		<div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 selectize-padding">
				    		<label for="flag">Flag:</label>
				    	</div>
				    	<div class="col-lg-2 col-md-2 col-sm-2 col-xs-1 selectize-padding">
		          			<ui-select ng-model="test.flag" theme="selectize" ng-disabled="disabled" class="ui-selection">
							    <ui-select-match placeholder="Select Flag...">{{$select.selected.fname}}</ui-select-match>
							    <ui-select-choices repeat="flag in flags | filter: $select.search">
							      	<span ng-bind-html="flag.fname | highlight: $select.search"></span>
							    	<!-- <small ng-bind-html="country.name | highlight: $select.search"></small> -->
								</ui-select-choices>
							</ui-select>
						</div>
				  	</div>
				  	<div class="form-group1">
				  		<div class="col-lg-1 col-md-1 col-sm-1 col-xs-1 selectize-padding">
				    		<label for="method">Method:</label>
				    	</div>
				    	<div class="col-lg-3 col-md-3 col-sm-3 col-xs-1 selectize-padding">
		          			<ui-select ng-model="test.method" theme="selectize" ng-disabled="disabled" class="ui-selection">
							    <ui-select-match placeholder="Select Method...">{{$select.selected.mname}}</ui-select-match>
							    <ui-select-choices repeat="method in methods | filter: $select.search">
							      	<span ng-bind-html="method.mname | highlight: $select.search"></span>
							    	<!-- <small ng-bind-html="country.name | highlight: $select.search"></small> -->
								</ui-select-choices>
							</ui-select>
						</div>
				  	</div>
				  	<div class="form-group1">
				  		<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 selectize-padding">
				    		<label for="speciman">Speciman:</label>
				    	</div>
				    	<div class="col-lg-3 col-md-3 col-sm-3 col-xs-1 selectize-padding">
		          			<ui-select ng-model="test.speciman" theme="selectize" ng-disabled="disabled" class="ui-selection">
							    <ui-select-match placeholder="Select Speciman...">{{$select.selected.sname}}</ui-select-match>
							    <ui-select-choices repeat="speciman in specimans | filter: $select.search">
							      	<span ng-bind-html="speciman.sname | highlight: $select.search"></span>
							    	<!-- <small ng-bind-html="country.name | highlight: $select.search"></small> -->
								</ui-select-choices>
							</ui-select>
						</div>
				  	</div>
				  	<div class="form-group1">
				  		<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
				    		<label for="instrument">Instrument:</label>
				    	</div>
				    	<div class="col-lg-3 col-md-3 col-sm-3 col-xs-1">
		          			<ui-select ng-model="test.instrument" theme="selectize" ng-disabled="disabled" class="ui-selection">
							    <ui-select-match placeholder="Select Instrument...">{{$select.selected.iname}}</ui-select-match>
							    <ui-select-choices repeat="instrument in instruments | filter: $select.search">
							      	<span ng-bind-html="instrument.iname | highlight: $select.search"></span>
							    	<!-- <small ng-bind-html="country.name | highlight: $select.search"></small> -->
								</ui-select-choices>
							</ui-select>
						</div>
				  	</div>
		      		<div class="search-test">
		          		<div class="col-md-3">
		            		<label>Remark</label>
		          		</div>
		          		<div class="col-md-3">
		          			<textarea class="form-control" ng-model="test.remark" rows="3" id="comment"></textarea>
		          		</div>
		        	</div>
				</form>
		    </div>
		</section>
		<section class="test-details-title">
			<div class="col-md-9 title">Add Test Parameters </div>
		</section>
		<section class="test-details">
			<div class="col-md-9 add-test-details">
				<form class="form-inline" role="form">
				  	<div class="form-group">
				    	<label for="parameters">Parameters:</label>
				    	<input type="text" ng-model="detail.parameters" class="form-control" id="parameters" placeholder="Parameters..">
				  	</div>
				  	<div class="form-group">
				    	<label for="refBelow">Ref <span class="glyphicon glyphicon-download"></span>:</label>
					    <input type="text" ng-model="detail.refbelow" class="form-control" id="refBelow" placeholder="Ref Below..">
				  	</div>
				  	<div class="form-group">
				    	<label for="refAbove">Ref <span class="glyphicon glyphicon-upload"></span>:</label>
					    <input type="text" ng-model="detail.refabove" class="form-control" id="refAbove" placeholder="Ref Above..">
				  	</div>
				  	<div class="form-group">
				    	<label for="ageBelow">Age <span class="glyphicon glyphicon-download"></span>:</label>
					    <input type="text" ng-model="detail.agebelow" class="form-control" id="ageBelow" placeholder="Age Below..">
				  	</div>
				  	<div class="form-group">
				    	<label for="ageAbove">Age <span class="glyphicon glyphicon-upload"></span>:</label>
					    <input type="text" ng-model="detail.ageabove" class="form-control" id="ageAbove" placeholder="Age Above..">
				  	</div>
				  	<div class="form-group">
				    	<label for="gender">Gender:</label>
				    	<select ng-model="detail.gender.name" ng-options="g.name for g in genders">
					      	<option value="">-- Choose Gendet --</option>
					    </select>
				  	</div>
				  	<div class="form-group">
				    	<label for="examType">Examination Type:</label>
					    <input type="text" ng-model="detail.examination" class="form-control" id="examType" placeholder="Examination Type..">
				  	</div>
				  	<div class="form-group">
				    	<label for="unit">Unit:</label>
					    <input type="text" ng-model="detail.unit" class="form-control" id="unit" placeholder="Unit..">
				  	</div>
				  	<div class="form-group">
				    	<label for="order">Order:</label>
					    <input type="Number" ng-model="detail.order" class="form-control" id="order" placeholder="Order..">
				  	</div>
				  	<div class="form-group">
				    	<label for="normalValues">Normal Values:</label>
					    <input type="text" ng-model="detail.normal" ng-disabled="detail.refbelow && detail.refabove" class="form-control" id="normalValues" placeholder="Normal Value..">
				  	</div>
				  	<div class="form-group">
				  		<button type="submit" class="btn btn-primary" ng-click="addDetails()">Add</button>
				  		<button type="reset" class="btn btn-secondary">Cancel</button>
				  	</div>
				</form>
			</div>
		</section>
		<section class="show-test-details" ng-if="showDetails.length">
			<div class="col-md-9 add-test-details">
				<table class="table table-striped table-bordered table-hover">
					<thead class="table-header">
						<tr>
							<th>Examination Type</th>
							<th>Order</th>
							<th>Test Parameter</th>
							<th>Unit</th>
							<th>Reference Range</th>
							<th>Age</th>
							<th>Gender</th>
							<th>Action</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="detail in showDetails track by $index">
							<td>{{detail.examination}}</td>
							<td>{{detail.order}}</td>
							<td>{{detail.parameters}}</td>
							<td>{{detail.unit}}</td>
							<td>{{detail.refbelow}} - {{detail.refabove}}</td>
							<td>{{detail.agebelow}} - {{detail.ageabove}}</td>
							<td>{{detail.gender.name}}</td>
							<td></td>
						</tr>
					</tbody>
				</table>
			</div>		
		</section>
		<section class="show-test-details">
			<div class="col-md-9 add-test-details">
				<div class="btn-group">
  					<button type="button" class="btn btn-danger">New Test</button>
  					<button type="button" class="btn btn-success">Modify Test</button>
  					<button type="button" class="btn btn-danger">Cancel</button>
  					<button type="button" class="btn btn-success" ng-click="saveTest()">Save</button>
  					<button type="button" class="btn btn-danger">Delete</button>
  				</div>
			</div>
		</section>
  	</div>
  	<div class="row">
	  	
  	</div>
</div>